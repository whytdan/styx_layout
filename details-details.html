<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Details Details Page</title>


	<!-- css -->
	<link rel="stylesheet" href="./styles/styles.css">

	<!-- bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
		crossorigin="anonymous"></script>

	<!-- jquery -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>

<body>
	<nav class="container mt-5">
		<div class="inner_nav">
			<div class="nav_user_info">
				<img src="./assets/images/nuysha.png" alt="profile-picture">
				<div>
					<h3>naruto.taddebae</h3>
					<p>92.21 $ ~ 0.0017 btc</p>
				</div>
			</div>

			<img class="nav_logo" src="./assets/images/logo.png" alt="logo">

			<div class="nav-icons">
				<img src="./assets/icons/cart.svg" alt="cart-icon">
				<img src="./assets/icons/menu.svg" alt="menu-icon">
			</div>
		</div>
	</nav>

	<main class="container">
		<div class="tabs">
			<div class="tab">
				<p>MAIN PAGE</p>
			</div>
			<div class="tab">
				<p>TRUSTED SELLERS</p>
			</div>
			<div class="tab">
				<p>AUTO-ESCROW</p>
			</div>
			<div class="tab">
				<p>NEWS</p>
			</div>
		</div>

		<section class="content">
			<aside class="side_panel">
				<div class="mb-4">
					<svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path
							d="M8 8C10.21 8 12 6.21 12 4C12 1.79 10.21 0 8 0C5.79 0 4 1.79 4 4C4 6.21 5.79 8 8 8ZM8 10C5.33 10 0 11.34 0 14V16H16V14C16 11.34 10.67 10 8 10Z"
							fill="#9FA4AE" />
					</svg>
					<p>Personal Account</p>
				</div>
				<div class="mb-4 active-side-item">
					<svg width="20" height="20" viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path
							d="M16.21 7.00002L11.83 0.44002C11.64 0.16002 11.32 0.0200195 11 0.0200195C10.68 0.0200195 10.36 0.16002 10.17 0.45002L5.79 7.00002H1C0.45 7.00002 0 7.45002 0 8.00002C0 8.09002 0.00999996 8.18002 0.04 8.27002L2.58 17.54C2.81 18.38 3.58 19 4.5 19H17.5C18.42 19 19.19 18.38 19.43 17.54L21.97 8.27002L22 8.00002C22 7.45002 21.55 7.00002 21 7.00002H16.21ZM8 7.00002L11 2.60002L14 7.00002H8ZM11 15C9.9 15 9 14.1 9 13C9 11.9 9.9 11 11 11C12.1 11 13 11.9 13 13C13 14.1 12.1 15 11 15Z"
							fill="#9FA4AE" />
					</svg>
					<p>Purchases</p>
				</div>
				<div class="mb-4">
					<svg width="20" height="20" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M12 0H2C0.9 0 0.0100002 0.9 0.0100002 2L0 18L7 15L14 18V2C14 0.9 13.1 0 12 0Z" fill="#9FA4AE" />
					</svg>
					<p>Favorites</p>
				</div>
				<div class="mb-4">
					<svg width="20" height="20" viewBox="0 0 16 21" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path
							d="M14 7H13V5C13 2.24 10.76 0 8 0C5.24 0 3 2.24 3 5V7H2C0.9 7 0 7.9 0 9V19C0 20.1 0.9 21 2 21H14C15.1 21 16 20.1 16 19V9C16 7.9 15.1 7 14 7ZM8 16C6.9 16 6 15.1 6 14C6 12.9 6.9 12 8 12C9.1 12 10 12.9 10 14C10 15.1 9.1 16 8 16ZM11.1 7H4.9V5C4.9 3.29 6.29 1.9 8 1.9C9.71 1.9 11.1 3.29 11.1 5V7Z"
							fill="#9FA4AE" />
					</svg>
					<p>Account security</p>
				</div>
				<div class="mb-4">
					<svg width="20" height="20" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path
							d="M18 0H2C0.9 0 0.00999999 0.9 0.00999999 2L0 14C0 15.1 0.9 16 2 16H18C19.1 16 20 15.1 20 14V2C20 0.9 19.1 0 18 0ZM18 4L10 9L2 4V2L10 7L18 2V4Z"
							fill="#9FA4AE" />
					</svg>
					<p>Messages</p>
				</div>
				<div>
					<svg width="20" height="20" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path
							d="M18 15V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0H16C17.1 0 18 0.9 18 2V3H9C7.89 3 7 3.9 7 5V13C7 14.1 7.89 15 9 15H18ZM9 13H19V5H9V13ZM13 10.5C12.17 10.5 11.5 9.83 11.5 9C11.5 8.17 12.17 7.5 13 7.5C13.83 7.5 14.5 8.17 14.5 9C14.5 9.83 13.83 10.5 13 10.5Z"
							fill="#9FA4AE" />
					</svg>
					<p>Wallet</p>
				</div>
			</aside>

			<div class="purchases_container">
				<div class="order_info">
					<p>Order date: 17/11/2021</p>
					<p>Order: 13682013829</p>
				</div>

				<div class="purchases_info">
					<div class="purchases_list">
						<div class="purchase mb-3">

							<div class="purchase_info">
								<img class="purchase_img" src="./assets/images/strawberry.svg" alt="strawberry-image">
								<div class="purchase_info__desc">
									<h3>Варенье земляничное домашнее</h3>
									<p class="d-none d-sm-block purchase_desc_text">
										Отличное варенье для всей семьи собрано с лучших полей страны для вас
										Насладитесь неповторимым вкусом спелой земляники!
										Можно добавлять варенье к блинчикам, кашам, фруктам.
										Если вы любите эксперименты можете добавить варенье к основному блюду.
										Фанаты варенья могут есть его прямо из банки или добавить к чаю.
									</p>
								</div>

								<p class="purchase_info__price">
									274$
								</p>
								<img class="seller_img" src="./assets/images/seller.png" alt="seller-img">
								
								<p class="d-block d-sm-none mt-3 w-100 purchase_desc_text">
									Отличное варенье для всей семьи собрано с лучших полей страны для вас
									Насладитесь неповторимым вкусом спелой земляники!
									Можно добавлять варенье к блинчикам, кашам, фруктам.
									Если вы любите эксперименты можете добавить варенье к основному блюду.
									Фанаты варенья могут есть его прямо из банки или добавить к чаю.
								</p>
								
								<div class="d-block d-sm-none d-flex">
									<button onclick="showPurchaseDetailedInfo(this)" style="margin-right: 5px;">
										Details
									</button>
									<button onclick="showSendReviewModal()">
										Send review
									</button>
								</div>

							</div>

							<div class="d-none d-md-block purchase_btns">
								<button onclick="showPurchaseDetailedInfo(this)">
									Details
								</button>
								<button onclick="showSendReviewModal(this)">
									Send review
								</button>
							</div>

						</div>
						<div class="purchase mb-3">
							<div class="purchase_info">
								<img class="purchase_img" src="./assets/images/strawberry.svg" alt="strawberry-image">
								<div class="purchase_info__desc">
									<h3>Варенье земляничное домашнее</h3>
									<p class="d-none d-sm-block purchase_desc_text">
										Отличное варенье для всей семьи собрано с лучших полей страны для вас
										Насладитесь неповторимым вкусом спелой земляники!
										Можно добавлять варенье к блинчикам, кашам, фруктам.
										Если вы любите эксперименты можете добавить варенье к основному блюду.
										Фанаты варенья могут есть его прямо из банки или добавить к чаю.
									</p>
								</div>
								<p class="purchase_info__price">
									356$
								</p>
								<img class="seller_img" src="./assets/images/seller.png" alt="seller-img">
								<p class="d-block d-sm-none mt-3 w-100 purchase_desc_text">
									Отличное варенье для всей семьи собрано с лучших полей страны для вас
										Насладитесь неповторимым вкусом спелой земляники!
										Можно добавлять варенье к блинчикам, кашам, фруктам.
										Если вы любите эксперименты можете добавить варенье к основному блюду.
										Фанаты варенья могут есть его прямо из банки или добавить к чаю.
								</p>
								<button onclick="showPurchaseDetailedInfo(this)" class="d-block d-sm-none">
									Details
								</button>
							</div>
							<button onclick="showPurchaseDetailedInfo(this)" class="d-none d-md-block">Details</button>
						</div>

						<div class="purchase">
							<div class="purchase_info">
								<img class="purchase_img" src="./assets/images/strawberry.svg" alt="strawberry-image">
								<div class="purchase_info__desc">
									<h3>Варенье земляничное домашнее</h3>
									<p class="d-none d-sm-block purchase_desc_text">
										Отличное варенье для всей семьи собрано с лучших полей страны для вас
										Насладитесь неповторимым вкусом спелой земляники!
										Можно добавлять варенье к блинчикам, кашам, фруктам.
										Если вы любите эксперименты можете добавить варенье к основному блюду.
										Фанаты варенья могут есть его прямо из банки или добавить к чаю.
									</p>
								</div>
								<p class="purchase_info__price">
									927$
								</p>
								<img class="seller_img" src="./assets/images/seller.png" alt="seller-img">
								<p class="d-block d-sm-none mt-3 w-100 purchase_desc_text">
									Отличное варенье для всей семьи собрано с лучших полей страны для вас
									Насладитесь неповторимым вкусом спелой земляники!
									Можно добавлять варенье к блинчикам, кашам, фруктам.
									Если вы любите эксперименты можете добавить варенье к основному блюду.
									Фанаты варенья могут есть его прямо из банки или добавить к чаю.
								</p>
								<button onclick="showPurchaseDetailedInfo(this)" class="d-block d-sm-none">
									Details
								</button>
							</div>
							<button onclick="showPurchaseDetailedInfo(this)" class="d-none d-md-block">Details</button>
						</div>
					</div>

					<div class="purchase_total">
						<p>Total:  1557$</p>
						<a>Order Issues FAQ</a>
					</div>

					<div class="message-editor">
						<div class="message-top-info">
							<div class="message-receiver">
								<img src="./assets/images/nuysha.png" alt="avatar">
								<p>n.t</p>
							</div>

							<img onclick="closeSendReviewModal()" id="message-modal-close" src="./assets/icons/close.svg" alt="close-icon">
	
							<div class="message-rate">
								<img src="./assets/icons/star.svg" alt="star-icon">
								<img src="./assets/icons/star.svg" alt="star-icon">
								<img src="./assets/icons/star.svg" alt="star-icon">
								<img src="./assets/icons/star.svg" alt="star-icon">
								<img src="./assets/icons/star.svg" alt="star-icon">
							</div>
	
							<div class="message-date">
								<p>Order date: 17/11/2021</p>
								<p>Order: 13682013829</p>
							</div>
						</div>

						<form id="message-form">
							<textarea required cols="30" rows="5" wrap="off" name="message-textarea" id="message-textarea"></textarea>
							<button>
								Send review
							</button>
						</form>
					</div>
					
				</div>


			</div>

			<div class="ads">
				<div class="ad mb-3"></div>
				<div class="ad mb-3"></div>
				<div class="ad mb-3"></div>
				<div class="ad mb-3"></div>
				<div class="ad"></div>
			</div>

		</section>
	</main>


	<script>

		$( document ).ready(function() {
				$('.message-editor').hide();
		});

		function closeSendReviewModal(){
			$('.message-editor').hide(200);
		}

		function showSendReviewModal(){
			$('.message-editor').show(200);
		}

		function showPurchaseDetailedInfo(btn){
			$(btn).toggleClass('thick-border');
			const purchase = $(btn).parents('.purchase').eq(0);
			const texts = $(purchase).find('.purchase_desc_text');
			const fullTexts = $(purchase).find('.purchase_desc_full_text');

			if(texts.length){
				texts.each((index, elem) => {
					$(elem).removeClass('purchase_desc_text');
					$(elem).addClass('purchase_desc_full_text');
				})
			} else {
				fullTexts.each((index, elem) => {
					$(elem).addClass('purchase_desc_text');
					$(elem).removeClass('purchase_desc_full_text');
				})
			}
		}
	</script>

	<script>

		// use this variable to get rate  
		let messageRateStarIndex = 0;
		
		$('.message-rate img').on('click', (e) => {
			const stars = $('.message-rate img');
			stars.each((index, star) => {
				if(star === e.target){
					messageRateStarIndex = index + 1;
				}
			})

			for(let i = messageRateStarIndex; i<stars.length; i++){
				let property = stars.eq(i).css('opacity');
				stars.eq(i).css('opacity', 0.6);
			}

			for(let i = 0; i<messageRateStarIndex; i++){
				let property = stars.eq(i).css('opacity');
				stars.eq(i).css('opacity', 1);
			}
		})


		$('#message-form').on('submit', (e) => {
			e.preventDefault();
			// call ajax here 
			const textareaValue = $('#message-form textarea').val();
		})
	</script>

</body>

</html>